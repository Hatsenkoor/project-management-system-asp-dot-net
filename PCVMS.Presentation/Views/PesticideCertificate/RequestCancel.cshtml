@using PCVMS.Presentation.Helpers;
@inject ICacheHelper obj;
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var Localizer = await obj.GetAllResource();

}

@model PesticideModel

<div class="main-card mb-3 card">

    <div class="card-header-custom  bg-moi-green">
        <i class="header-icon pe-7s-pen icon-gradient bg-white"> </i>
        @Localizer["pesticide_certificate_search"]
    </div>
    <div class="form-row">

        <div class="col-md-2">
            <div class="position-relative form-group">
                <label for="RoyalDecree">
                    @Localizer["local_company"]
                </label>
                <div class="input-group">
                    <select id="ealist" class="form-control">
                        <option selected>select company</option>
                        <option>Technical Agri Support</option>
                        <option>AL Saffa</option>
                        <option>Mazoon Diary</option>
                    </select>
                    <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-bookmarks btn-icon-wrapper"> </i></span></div>
                </div>
            </div>
        </div>

        <div class="col-md-2">
            <div class="position-relative form-group">
                <label for="ProjectName">@Localizer["pesticide_use"]</label>
                <div class="widget-content-left">
                    <div class="input-group">
                        <select id="ealist" class="form-control">
                            <option selected>select pesticide</option>
                            <option>Organic insecticides</option>
                            <option>Organic insecticides2</option>
                            <option>Organic insecticides3</option>
                        </select>
                        <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-speaker btn-icon-wrapper"> </i></span></div>
                    </div>
                </div>

            </div>
        </div>
        <div class="col-md-2">
            <div class="position-relative form-group">
                <label for="ProjectName">@Localizer["chemical_class"]</label>
                <div class="widget-content-left">
                    <div class="input-group">
                        <select id="ealist" class="form-control">
                            <option selected>select type</option>
                            <option>multi-site: inorganic</option>
                            <option>multi-site: inorganic</option>
                            <option>multi-site: inorganic</option>
                        </select>
                        <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-speaker btn-icon-wrapper"> </i></span></div>
                    </div>
                </div>

            </div>
        </div>
        <div class="col-md-2">
            <div class="position-relative form-group">
                <label for="RoyalDecree">
                    @Localizer["governorate"]
                </label>
                <div class="input-group">
                    <select id="ealist" class="form-control">
                        <option>Muscat</option>
                        <option>Dhofar</option>
                        <option>Burami</option>
                    </select>
                    <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-bookmarks btn-icon-wrapper"> </i></span></div>
                </div>
            </div>
        </div>

        <div class="col-md-2">
            <div class="position-relative form-group">
                <label for="ProjectName">@Localizer["status"]</label>
                <div class="widget-content-left">
                    <div class="input-group">
                        <select id="ealist" class="form-control">
                            <option selected>select status</option>
                            <option>submitted</option>
                            <option>in process</option>
                            <option>completed</option>
                        </select>
                        <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-speaker btn-icon-wrapper"> </i></span></div>
                    </div>
                </div>

            </div>
        </div>
        <div class="col-md-2">
            <div class="position-relative form-group">
                <label for="ProjectName" style="visibility:hidden">cr</label>
                <div class="widget-content-left">
                    <div class="input-group">
                        <button id="SearchTransaction" name="SearchTransaction" class="btn-icon btn-shadow btn-dashed btn btn-alternate block-page-btn-example-3">
                            <i class="pe-7s-search btn-icon-wrapper"> </i>@Localizer["search"]
                        </button>

                    </div>
                </div>

            </div>
        </div>
    </div>

    <table style="width: 100%;" id="tbl-pesticide-certificate-list" name="tbl-pesticide-certificate-list" class="table table-hover table-striped table-bordered">
        <thead>
            <tr>
                <th class="bg-moi-gold" style="text-align:center;"><i class="pe-7s-magic-wand btn-icon-wrapper"> </i> @Localizer["id"]</th>
                <th class="bg-moi-gold" style="text-align:center;"><i class="pe-7s-magic-wand btn-icon-wrapper"> </i> @Localizer["certificate"]</th>
                <th class="bg-moi-gold" style="text-align:center;"><i class="pe-7s-magic-wand btn-icon-wrapper"> </i> @Localizer["company"]</th>
                <th class="bg-moi-gold" style="text-align:center;"><i class="pe-7s-magic-wand btn-icon-wrapper"> </i> @Localizer["status"]</th>
                <th class="bg-moi-gold" style="text-align:center;"><i class="pe-7s-magic-wand btn-icon-wrapper"> </i> @Localizer["action"]</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

</div>

<div id="record_screen" style="display:none;"> 
    <div class="main-card mb-3 card" id="pesticide-certificate-cancel">
        <div class="card-header-custom  bg-moi-green">
            <i class="header-icon pe-7s-pen icon-gradient bg-royal"> </i>
            @Localizer["pesticide_certificate_detail"]
        </div>
        <div class="card-body">
            <div class="form-row">
                <div class="col-md-3">
                    <div class="position-relative form-group">
                        <label for="ProjectStartDate">@Localizer["certificate_type"]: <span style="color:red">*</span></label>
                        <div class="input-group">
                            <input style="display:none;" name="CertificateMasterID" id="CertificateMasterID" type="text" class="form-control">
                            <input name="Certificate_Name" id="Certificate_Name" type="text" class="form-control">
                            <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-date btn-icon-wrapper"> </i></span></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="position-relative form-group">
                        <label for="ProjectName">@Localizer["pesticide_use"]: <span style="color:red">*</span></label>
                        <div class="widget-content-left">
                            <div class="input-group">
                                <input name="txt_pesticide_use" id="txt_pesticide_use" type="text" class="form-control">
                                <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-speaker btn-icon-wrapper"> </i></span></div>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="col-md-3">
                    <div class="position-relative form-group">
                        <label for="ProjectStartDate">@Localizer["requested_date"]: <span style="color:red">*</span></label>

                        <div class="input-group">
                            <input name="txt_requested_date" id="txt_requested_date" type="text" class="form-control">
                            <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-date btn-icon-wrapper"> </i></span></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="position-relative form-group">
                        <label for="RoyalDecree">
                            @Localizer["certificate_request_no"]:<span style="color:red">*</span>
                        </label>
                        <div class="input-group">
                            <input readonly name="ID" id="ID" type="text" class="form-control">
                            <input type="hidden" id="status" height="18" width="24">
                            <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-bookmarks btn-icon-wrapper"> </i></span></div>
                        </div>
                    </div>
                </div>
          
            </div>
            <div class="form-row">

                <div class="col-md-4">
                    <div class="position-relative form-group">
                        <label for="ProjectStartDate">@Localizer["trade_name"]:<span style="color:red">*</span> </label>

                        <div class="input-group">
                            <input name="txt_trade_name" id="txt_trade_name" type="text" class="form-control">
                            <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-date btn-icon-wrapper"> </i></span></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="position-relative form-group">
                        <label for="RoyalDecree">
                            @Localizer["chemical_class"]:<span style="color:red">*</span>
                        </label>
                        <div class="input-group">
                            <input name="txt_chemical_class" id="txt_chemical_class" type="text" class="form-control">
                            <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-bookmarks btn-icon-wrapper"> </i></span></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="position-relative form-group">
                        <label for="ProjectStartDate">@Localizer["local_registration_no"]:<span style="color:red">*</span> </label>

                        <div class="input-group">
                            <input name="txt_local_registration_no" id="txt_local_registration_no" type="text" class="form-control">
                            <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-date btn-icon-wrapper"> </i></span></div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="form-row">
                <div class="col-md-3">
                    <div class="position-relative form-group">
                        <label for="exampleAddress">@Localizer["type_of_formulation"]: <span style="color:red">*</span></label>
                        <div class="input-group">
                            <input name="TypeFormulationMasterID" id="TypeFormulationMasterID" placeholder="please enter here..." type="text" class="form-control">
                            <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-bookmarks btn-icon-wrapper"> </i></span></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="position-relative form-group">
                        <label for="RoyalDecree">@Localizer["target_pest"]: <span style="color:red">*</span></label>
                        <div class="widget-content-left">
                            <div class="input-group">
                                <input name="txt_target_pest" id="txt_target_pest" placeholder="please enter here..." type="text" class="form-control">
                                <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-speaker btn-icon-wrapper"> </i></span></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="position-relative form-group">
                        <label for="exampleAddress">@Localizer["who_toxicity_classification"]: <span style="color:red">*</span></label>
                        <div class="input-group">
                            <input name="WHOToxicityMasterID" id="WHOToxicityMasterID" placeholder="please enter here..." type="text" class="form-control">
                            <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-notebook btn-icon-wrapper"> </i></span></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-row">
                <div class="col-md-4">
                    <div class="position-relative form-group">
                        <label for="exampleAddress">@Localizer["target_crops"]:<span style="color:red">*</span></label>
                        <div class="input-group">
                            <input name="txt_target_crops" id="txt_target_crops" type="text" class="form-control">
                            <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-bookmarks btn-icon-wrapper"> </i></span></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-2">
                    <div class="position-relative form-group">
                        <label for="ProjectStartDate">@Localizer["cr_number"]:</label>
                        <div class="input-group">
                            <input name="txt_cr_number" id="txt_cr_number" type="text" class="form-control">
                            <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-search btn-icon-wrapper"> </i></span></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-2">
                    <div class="position-relative form-group">
                        <label for="ProjectName" style="visibility:hidden">cr</label>
                        <div class="widget-content-left">
                            <div class="input-group">
                                <button id="SearchTransaction" name="SearchTransaction" class="btn-icon btn-shadow btn-dashed btn btn-alternate block-page-btn-example-3">
                                    <i class="pe-7s-plus btn-icon-wrapper"> </i>@Localizer["moci"]
                                </button>

                            </div>
                        </div>

                    </div>
                </div>
                <div class="col-md-4">
                    <div class="position-relative form-group">
                        <label for="RoyalDecree">@Localizer["registered_commercial_activities"]</label>
                        <div class="input-group">
                            <input name="txt_commercial_activities" id="txt_commercial_activities" placeholder="please enter here..." type="text" class="form-control">
                            <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-bookmarks btn-icon-wrapper"> </i></span></div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="form-row">
                <div class="col-md-3">
                    <div class="position-relative form-group">
                        <label for="exampleAddress">@Localizer["exporter_company"]: <span style="color:red">*</span></label>
                        <div class="input-group">
                            <input name="txt_exporter_company" id="txt_exporter_company" placeholder="please enter here..." type="text" class="form-control">
                            <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-notebook btn-icon-wrapper"> </i></span></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="position-relative form-group">
                        <label for="exampleAddress">@Localizer["local_company"]: <span style="color:red">*</span></label>
                        <div class="input-group">
                            <input name="txt_local_company" id="txt_local_company" placeholder="please enter here..." type="text" class="form-control">
                            <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-notebook btn-icon-wrapper"> </i></span></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="position-relative form-group">
                        <label for="exampleAddress">@Localizer["license_number"]:<span style="font-size:10px;">(@Localizer["whole_sale"]):</span><span style="color:red">*</span></label>
                        <div class="input-group">
                            <input name="txt_license_number" id="txt_license_number" placeholder="please enter here..." type="text" class="form-control">
                            <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-notebook btn-icon-wrapper"> </i></span></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="position-relative form-group">
                        <label for="exampleAddress">@Localizer["local_company_address"]: <span style="color:red">*</span></label>
                        <div class="input-group">
                            <input name="txt_local_company_address" id="txt_local_company_address" placeholder="please enter here..." type="text" class="form-control">
                            <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-notebook btn-icon-wrapper"> </i></span></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-row">
                <div class="col-md-12">
                    <div class="position-relative form-group">
                        <label for="exampleAddress">@Localizer["remark"]</label>
                        <div class="input-group">
                            <input name="txt_remark" id="txt_remark" placeholder="ready only..." type="text" class="form-control">
                            <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-notebook btn-icon-wrapper"> </i></span></div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </div>
    <div class="col-md-12">
        <div class="position-relative form-group">
            <label for="exampleAddress">@Localizer["reason_for_cancellation"]</label>
            <div class="input-group">
                <input name="txtcancellationreason" id="txtcancellationreason" type="text" class="form-control">
                <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-notebook btn-icon-wrapper"> </i></span></div>
            </div>
        </div>
    </div>
    <div id="pnlCancelRequest">
        <div class="d-block text-right card-footer">

            <button id="btnClear" name="btnClear" class="btn-icon btn-shadow btn-dashed btn btn-moi-gold"><i class="pe-7s-trash btn-icon-wrapper"> </i>clear</button>
            <button id="btnRequestCertificateCancel" name="btnRequestCertificateCancel" class="btn-icon btn-shadow btn-dashed btn btn-alternate block-page-btn-example-3">
                <i class="pe-7s-junk btn-icon-wrapper"> </i>Request Cancel
            </button>
        </div>
    </div>
    <div class="main-card mb-3 card" id="pesticide-certificate-cancel-approval" style="display:none;">
        <div class="card-header-custom  bg-moi-green">
            <i class="header-icon pe-7s-pen icon-gradient bg-white"> </i>
            @Localizer["certificate_cancel_process"]
        </div>
        <div class="no-results">
            <div class="main-card mb-3 card">
                <div class="card-header-custom  bg-moi-green">
                    <i class="header-icon pe-7s-pen icon-gradient bg-royal"> </i>
                    @Localizer["review_history"]
                </div>
                <div class="card-body" readonly="readonly">
                    <table style="width: 100%;" id="tbl-review-history" name="tbl-review-history" class="table table-hover table-striped table-bordered">
                        <thead>
                            <tr>
                                <th class="bg-moi-gold" style="text-align:center"><i class="pe-7s-magic-wand btn-icon-wrapper"> </i> @Localizer["remark"]</th>
                                <th class="bg-moi-gold" style="text-align:center"><i class="pe-7s-magic-wand btn-icon-wrapper"> </i> @Localizer["status"]</th>
                                <th class="bg-moi-gold" style="text-align:center"><i class="pe-7s-magic-wand btn-icon-wrapper"> </i> @Localizer["user"]</th>
                                <th class="bg-moi-gold" style="text-align:center"><i class="pe-7s-magic-wand btn-icon-wrapper"> </i> @Localizer["date"]</th>
                                <th class="bg-moi-gold" style="text-align:center"><i class="pe-7s-magic-wand btn-icon-wrapper"> </i> @Localizer["action"]</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>

                    </table>
                </div>
            </div>
            <div class="swal2-icon swal2-success swal2-animate-success-icon">
                <i class="metismenu-icon lnr-hourglass" style="cursor: pointer;font-size:2.5rem;line-height: 1.75;" title="wait for approval"></i>
            </div>
            <div class="results-title">
                <div class="position-relative form-group">
                    <label for="PrpertyCardId">@Localizer["remark"]</label>

                    <div class="input-group">
                        <input name="PrpertyCardId" id="txtReviewHistory" type="text" class="form-control">
                        <div class="input-group-append"><span class="input-group-text"><i class="pe-7s-notebook btn-icon-wrapper"> </i></span></div>
                    </div>
                </div>
            </div>
            <div class="main-card mb-3 card">
                <div class="card-body">
                    <div class="card-header-custom  bg-moi-green">
                        <i class="header-icon pe-7s-pen icon-gradient bg-white"> </i>
                        @Localizer["supporting_document"]
                    </div>
                    <table style="width: 100%;" id="tbl-support-document" name="tbl-resource-history" class="table table-hover table-striped table-bordered">
                        <thead>
                            <tr>
                                <th class="bg-moi-gold" style="text-align:center;"><i class="pe-7s-magic-wand btn-icon-wrapper"> </i> @Localizer["document_no"]</th>
                                <th class="bg-moi-gold" style="text-align:center;"><i class="pe-7s-magic-wand btn-icon-wrapper"> </i> @Localizer["document_name"]</th>
                                <th class="bg-moi-gold" style="text-align:center;"><i class="pe-7s-magic-wand btn-icon-wrapper"> </i> @Localizer["mandatory"]</th>
                                <th class="bg-moi-gold" style="text-align:center;"><i class="pe-7s-magic-wand btn-icon-wrapper"> </i> @Localizer["pdf"]</th>
                                <th class="bg-moi-gold" style="text-align:center;"><i class="pe-7s-magic-wand btn-icon-wrapper"> </i> @Localizer["action"]</th>
                                <th class="bg-moi-gold" style="text-align:center;"><i class="pe-7s-magic-wand btn-icon-wrapper"> </i> @Localizer["uploaded"]</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>@Localizer["support_document_for_selected_remark"]</td>
                                <td class="text-center" style="color:forestgreen">*</td>
                                <td>
                                    <div class="position-relative form-group" style="margin-top: 0.3rem;">
                                        <img name="email" id="FileImage1_review" height="18" width="24">
                                        <input type="hidden" id="Image1_review" height="18" width="24">
                                        <input type="hidden" id="ReviewID" height="18" width="24">
                                    </div>
                                </td>
                                <td class="text-center" id='File1_review_upload' name='File1_review_upload'>
                                    <div class='position-relative'> <label for="File1_review"><i class="metismenu-icon lnr-upload" style="cursor: pointer;margin-left: 10px;" title="upload"></i></label></div>
                                    <input style="cursor:pointer; display:none;" title="Choose file automatically uploaded to system" id="File1_review" name="File1_review" accept=".jpg,.jpeg" type="file" size="1" multiple onchange="uploadReviewFiles(this);" />
                                </td>
                                <td class="text-center" id='File1_review_success' name='File1_review_success'><i class="metismenu-icon lnr-thumbs-up" style="cursor: pointer;margin-left: 10px;" title="success"></i></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="mt-3 mb-3"></div>
            <div class="text-center" id="pnlreviewapproval">
                <button style="display:none;" id="btnApproveCertificate" name="btnApproveCertificate" class="btn-shadow btn-wide btn btn-moi-green btn-lg">@Localizer["approval"]</button>
                <button id="btnRFCCertificate" name="btnRFCCertificate" class="btn-shadow btn-wide btn btn-moi-gold-dark btn-lg" title="this site visit going to be cancelled">@Localizer["rfc"] (@Localizer["request_for_clarification"])</button>
                <button style="display:none;" id="btnRefuseCertificate" name="btnRefuseCertificate" class="btn-shadow btn-wide btn btn-danger btn-lg">@Localizer["refusal"]</button>
            </div>
        </div>
    </div>
</div>

<div id="no_record_screen" style="display:none;">
    <div class="swal2-icon swal2-success swal2-animate-success-icon">
        <i class="metismenu-icon lnr-hourglass" style="cursor: pointer; font-size: 2.5rem; line-height: 1.75; margin-left: 20%;" title="wait for approval"></i>
    </div>
    <div class="results-title" style="font-size: 30px; color: purple; margin-left: 35%;">
        <div class="position-relative form-group">
            <label for="PrpertyCardId">@Localizer["no_certificate_to_show"]</label>
        </div>
    </div>
</div>

<script src="~/js/pesticide/cancelrequest.js"></script>
